(this["webpackJsonptest-task"]=this["webpackJsonptest-task"]||[]).push([[0],{33:function(e,t,r){},34:function(e,t,r){},60:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r(0),c=r.n(a),i=r(7),s=r.n(i),o=(r(33),r(34),r(3)),l=r(15),d=r(6),u=r(14),p=r.n(u),h=r(25),j=r(26),y=r(9),b=r.n(y),O="EMPLOYEES_LIST_REQUEST",f="EMPLOYEES_LIST_SUCCESS",m="EMPLOYEES_LIST_FAIL",v="UPDATE_EMPLOYEES_CHECK_BOX",x="EMPLOYEE_ADD",g="EMPLOYEE_REMOVE",E=function(e){var t,r={A:[],B:[],C:[],D:[],E:[],F:[],G:[],H:[],I:[],J:[],K:[],L:[],M:[],N:[],O:[],P:[],Q:[],R:[],S:[],T:[],U:[],V:[],W:[],X:[],Y:[],Z:[]},n=[],a=Object(d.a)(e);try{for(a.s();!(t=a.n()).done;){var c=t.value,i=c.lastName[0];c.checked=!1,r[i].push(c)}}catch(p){a.e(p)}finally{a.f()}var s,o=new Map(Object.entries(r)),l=Object(d.a)(o);try{for(l.s();!(s=l.n()).done;){var u=s.value;n.push(u)}}catch(p){l.e(p)}finally{l.f()}return n},S=function(e){return e.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{dob:N(e.dob)})}))},N=function(e){var t=new Date(e),r=b()(t).format("MMMM"),n=b()(t).format("YYYY"),a=b()(t).format("D");return"".concat(a," ").concat(r,", ").concat(n," year")},L=r(5),k=function(e,t,r){var n,a=JSON.parse(JSON.stringify(e));return a.find((function(e){return e[0]===t}))[1].forEach((function(e){e.id===r&&(e.checked=!e.checked,n=e)})),[a,n]},J=function(e,t){var r=e.dob.split(" ")[1].slice(0,-1);if(t.length)return t.map((function(t){return t[0]===r&&t[1].push(e),t}));var n={January:[],February:[],March:[],April:[],May:[],June:[],July:[],August:[],September:[],October:[],November:[],December:[]};n[r].push(e);var a,c=[],i=new Map(Object.entries(n)),s=Object(d.a)(i);try{for(s.s();!(a=s.n()).done;){var o=a.value;c.push(o)}}catch(l){s.e(l)}finally{s.f()}return c},M=function(e){var t=e.employee,r=t.firstName,a=t.lastName,c=t.checked,i=t.id,s=e.letter,l=Object(o.b)();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("span",{children:[a," ",r]}),Object(n.jsx)("input",{type:"checkbox",checked:c,onChange:function(){l(function(e,t){return function(r,n){var a=n(),c=k(a.employeesList.employees,e,t),i=Object(L.a)(c,2),s=i[0],o=i[1];if(r({type:v,payload:s}),localStorage.setItem("employees",JSON.stringify(s)),o.checked){var l=JSON.parse(JSON.stringify(a.birthdayList.employeesBirthday)),d=J(o,l);r({type:x,payload:d}),localStorage.setItem("employeesBirthday",JSON.stringify(d))}else{var u=JSON.parse(JSON.stringify(a.birthdayList.employeesBirthday));u.forEach((function(e){var t=o.dob.split(" ")[1].slice(0,-1);if(e[0]===t)if(1===e[1].length)e[1]=[];else for(var r=0;r<=e[1].length;r++)if(e[1][r].id===o.id){e[1].splice(r,1);break}})),r({type:g,payload:u}),localStorage.setItem("employeesBirthday",JSON.stringify(u))}}}(s,i))}})]})},_=function(e){var t=e.listBox,r=Object(L.a)(t,2),a=r[0],c=r[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h3",{children:a}),Object(n.jsx)("ul",{className:"listByAlphabet",children:c.length?c.map((function(e){return Object(n.jsx)("li",{children:Object(n.jsx)(M,{employee:e,letter:a})},e.id)})):Object(n.jsx)("li",{children:"------"})})]})},B=function(){var e=Object(o.c)((function(e){return e.employeesList})),t=e.employees,r=e.loading,c=e.error,i=Object(o.b)();return Object(a.useEffect)((function(){i(function(){var e=Object(h.a)(p.a.mark((function e(t){var r,n,a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.employees){e.next=5;break}r=JSON.parse(localStorage.employees),t({type:f,payload:r}),e.next=19;break;case 5:return e.prev=5,t({type:O}),e.next=9,j.get("https://yalantis-react-school-api.yalantis.com/api/task0/users");case 9:n=e.sent,a=n.data,c=E(S(a)),t({type:f,payload:c}),localStorage.setItem("employees",JSON.stringify(c)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),t({type:m,payload:e.t0.message});case 19:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(n.jsxs)("div",{className:"blockEmployees",children:[Object(n.jsx)("h1",{children:"Employees"}),r?Object(n.jsx)("div",{children:"Loading..."}):c?Object(n.jsx)("div",{children:"error"}):Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:"containerEmployees",children:t.map((function(e){return Object(n.jsx)("div",{className:"boxEmployees",children:Object(n.jsx)(_,{listBox:e})},e[0])}))})})]})},I=function(e){var t=e.boxList,r=Object(L.a)(t,2),a=r[0],c=r[1];return Object(n.jsxs)("div",{children:[Object(n.jsx)("h4",{children:a}),Object(n.jsx)("ul",{children:c.map((function(e){return Object(n.jsxs)("li",{children:[e.lastName," ",e.firstName," - ",e.dob]},e.id)}))})]})},w=function(){var e=Object(o.c)((function(e){return e.birthdayList.employeesBirthday})).filter((function(e){return 0!==e[1].length}));return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"BirthdayScreens"}),e.length?Object(n.jsx)("div",{className:"boxBirthday",children:e.map((function(e){return Object(n.jsx)("div",{children:Object(n.jsx)(I,{boxList:e})},e[0])}))}):Object(n.jsx)("div",{children:" No selected employees"})]})};var P=function(){return Object(n.jsxs)("div",{className:"wrapper",children:[Object(n.jsx)(B,{}),Object(n.jsx)(w,{})]})},Y=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,61)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;r(e),n(e),a(e),c(e),i(e)}))},C=r(4),D=r(27),T=Object(C.c)({employeesList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{employees:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return{loading:!0,employees:[]};case f:return{loading:!1,employees:t.payload};case m:return{loading:!1,error:t.payload};case v:return{loading:!1,employees:t.payload};default:return e}},birthdayList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{employeesBirthday:JSON.parse(localStorage.getItem("employeesBirthday")||"[]")},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:case g:return{employeesBirthday:t.payload};default:return e}}}),F=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||C.d,A=Object(C.e)(T,{},F(Object(C.a)(D.a)));s.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(o.a,{store:A,children:Object(n.jsx)(P,{})})}),document.getElementById("root")),Y()}},[[60,1,2]]]);
//# sourceMappingURL=main.56bae8b1.chunk.js.map